<!doctype html><html lang="zh" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="GeekCircle-极客圈的官方网站，致力于分享原创、有价值的编程技术。"><link rel="canonical" href="https://geekcircle.org/stackoverflow-python-top-qa/7/"><meta name="author" content="GeekCircle"><meta name="lang:clipboard.copy" content="复制"><meta name="lang:clipboard.copied" content="已复制"><meta name="lang:search.language" content="ja"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="没有找到符合条件的结果"><meta name="lang:search.result.one" content="找到 1 个符合条件的结果"><meta name="lang:search.result.other" content="# 个符合条件的结果"><meta name="lang:search.tokenizer" content="[\uff0c\u3002]+"><link rel="shortcut icon" href="../../icon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>7.如何用一行代码合并2个字典 - GeekCircle-极客圈</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#7-2" tabindex="1" class="md-skip">跳转至 </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://geekcircle.org/" title="GeekCircle-极客圈" class="md-header-nav__button md-logo"><img src="../../icon.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">GeekCircle-极客圈</span><span class="md-header-nav__topic">7.如何用一行代码合并2个字典</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">键入以开始搜索</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/geekcircle/" title="前往 Github 仓库" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><nav class="md-tabs md-tabs--active" data-md-component="tabs"><div class="md-tabs__inner md-grid"><ul class="md-tabs__list"><li class="md-tabs__item"><a href="../.." title="主页" class="md-tabs__link">主页</a></li><li class="md-tabs__item"><a href="../../machine-learning-interview-qa/" title="机器学习Q&A" class="md-tabs__link">机器学习Q&A</a></li><li class="md-tabs__item"><a href="../" title="Python Q&A" class="md-tabs__link md-tabs__link--active">Python Q&A</a></li></ul></div></nav><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://geekcircle.org/" title="GeekCircle-极客圈" class="md-nav__button md-logo"><img src="../../icon.png" width="48" height="48"></a>GeekCircle-极客圈</label><div class="md-nav__source"><a href="https://github.com/geekcircle/" title="前往 Github 仓库" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="主页" class="md-nav__link">主页</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">机器学习Q&A</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">机器学习Q&A</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../machine-learning-interview-qa/" title="序言" class="md-nav__link">序言</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/1/" title="1.如何处理特征向量的缺失值" class="md-nav__link">1.如何处理特征向量的缺失值</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/2/" title="2.请简要说说一个完整机器学习项目的流程" class="md-nav__link">2.请简要说说一个完整机器学习项目的流程</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/3/" title="3.某超市研究销售记录发现买啤酒的人很大概率也会买尿布，这属于数据挖掘的哪类问题" class="md-nav__link">3.某超市研究销售记录发现买啤酒的人很大概率也会买尿布，这属于数据挖掘的哪类问题</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/4/" title="4.余弦相似与欧氏距离有什么区别和联系" class="md-nav__link">4.余弦相似与欧氏距离有什么区别和联系</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/5/" title="5.下面哪个不属于数据的属性类型" class="md-nav__link">5.下面哪个不属于数据的属性类型</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/6/" title="6.监督学习和无监督学习" class="md-nav__link">6.监督学习和无监督学习</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/7/" title="7.熵是为消除不确定性所需要获得的信息量，投掷均匀正六面体骰子的熵是" class="md-nav__link">7.熵是为消除不确定性所需要获得的信息量，投掷均匀正六面体骰子的熵是</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/8/" title="8.数据清洗与特征处理" class="md-nav__link">8.数据清洗与特征处理</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/9/" title="9.猜测这种划分最可能是什么聚类算法的结果" class="md-nav__link">9.猜测这种划分最可能是什么聚类算法的结果</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/10/" title="10.支持向量机(SVM)中的支持向量是什么意思" class="md-nav__link">10.支持向量机(SVM)中的支持向量是什么意思</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/11/" title="11.精确率(precision)和召回率(recall)" class="md-nav__link">11.精确率(precision)和召回率(recall)</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/12/" title="12.数据挖掘中如何判断关联规则有效性" class="md-nav__link">12.数据挖掘中如何判断关联规则有效性</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/13/" title="13.朴素贝叶斯分类某个类别概率为0怎么办" class="md-nav__link">13.朴素贝叶斯分类某个类别概率为0怎么办</a></li><li class="md-nav__item"><a href="../../machine-learning-interview-qa/14/" title="14.决策树" class="md-nav__link">14.决策树</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked><label class="md-nav__link" for="nav-3">Python Q&A</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Python Q&A</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../" title="序言" class="md-nav__link">序言</a></li><li class="md-nav__item"><a href="../1/" title="1.yield关键字的作用" class="md-nav__link">1.yield关键字的作用</a></li><li class="md-nav__item"><a href="../2/" title="2.什么是元类（metaclass）" class="md-nav__link">2.什么是元类（metaclass）</a></li><li class="md-nav__item"><a href="../3/" title="3.Python中有三目运算符吗" class="md-nav__link">3.Python中有三目运算符吗</a></li><li class="md-nav__item"><a href="../4/" title="4.如何检查一个文件是否存在" class="md-nav__link">4.如何检查一个文件是否存在</a></li><li class="md-nav__item"><a href="../5/" title="5.if name == "main"这句话做了什么事情" class="md-nav__link">5.if name == "main"这句话做了什么事情</a></li><li class="md-nav__item"><a href="../6/" title="6.在Python中调用外部命令" class="md-nav__link">6.在Python中调用外部命令</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">7.如何用一行代码合并2个字典</label><a href="./" title="7.如何用一行代码合并2个字典" class="md-nav__link md-nav__link--active">7.如何用一行代码合并2个字典</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目录</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#_1" title="题目" class="md-nav__link">题目</a></li><li class="md-nav__item"><a href="#_2" title="回答一" class="md-nav__link">回答一</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#_3" title="解释" class="md-nav__link">解释</a></li><li class="md-nav__item"><a href="#python35" title="没用Python3.5，仍旧想一行搞定" class="md-nav__link">没用Python3.5，仍旧想一行搞定</a></li><li class="md-nav__item"><a href="#_4" title="对其他答案的批评" class="md-nav__link">对其他答案的批评</a></li><li class="md-nav__item"><a href="#_5" title="对评论的回复" class="md-nav__link">对评论的回复</a></li><li class="md-nav__item"><a href="#_6" title="性能较差但正确的写法" class="md-nav__link">性能较差但正确的写法</a></li><li class="md-nav__item"><a href="#_7" title="性能分析" class="md-nav__link">性能分析</a></li><li class="md-nav__item"><a href="#_8" title="参考资源" class="md-nav__link">参考资源</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../8/" title="8.如何创建一个不存在的目录" class="md-nav__link">8.如何创建一个不存在的目录</a></li><li class="md-nav__item"><a href="../9/" title="9.如何根据值对字典排序" class="md-nav__link">9.如何根据值对字典排序</a></li><li class="md-nav__item"><a href="../10/" title="10.Python中有判断字符串包含(contains)子串的方法吗？" class="md-nav__link">10.Python中有判断字符串包含(contains)子串的方法吗？</a></li><li class="md-nav__item"><a href="../11/" title="11.如何列出一个文件夹下的所有文件" class="md-nav__link">11.如何列出一个文件夹下的所有文件</a></li><li class="md-nav__item"><a href="../12/" title="12.如何检查列表是否为空" class="md-nav__link">12.如何检查列表是否为空</a></li><li class="md-nav__item"><a href="../13/" title="13.list方法append()与extend()的区别" class="md-nav__link">13.list方法append()与extend()的区别</a></li><li class="md-nav__item"><a href="../14/" title="14.Python中@staticmethod与@classmethod的区别" class="md-nav__link">14.Python中@staticmethod与@classmethod的区别</a></li><li class="md-nav__item"><a href="../15/" title="15.如何访问for循环中的下标" class="md-nav__link">15.如何访问for循环中的下标</a></li><li class="md-nav__item"><a href="../16/" title="16.如何在函数中使用全局变量" class="md-nav__link">16.如何在函数中使用全局变量</a></li><li class="md-nav__item"><a href="../17/" title="17.如何创建连续调用的函数装饰器" class="md-nav__link">17.如何创建连续调用的函数装饰器</a></li><li class="md-nav__item"><a href="../18/" title="18.理解python的切片符号" class="md-nav__link">18.理解python的切片符号</a></li><li class="md-nav__item"><a href="../19/" title="19.Python中如何在列表中找到某个元素的下标" class="md-nav__link">19.Python中如何在列表中找到某个元素的下标</a></li><li class="md-nav__item"><a href="../20/" title="20.字典如何判断键已存在" class="md-nav__link">20.字典如何判断键已存在</a></li><li class="md-nav__item"><a href="../21/" title="21.如何在Windows上安装pip" class="md-nav__link">21.如何在Windows上安装pip</a></li><li class="md-nav__item"><a href="../22/" title="22.使用'for'循环迭代字典" class="md-nav__link">22.使用'for'循环迭代字典</a></li><li class="md-nav__item"><a href="../23/" title="23.__str__和__repr__的区别" class="md-nav__link">23.__str__和__repr__的区别</a></li><li class="md-nav__item"><a href="../24/" title="24.Python中如何展开嵌套列表" class="md-nav__link">24.Python中如何展开嵌套列表</a></li><li class="md-nav__item"><a href="../25/" title="25.最小经验原则（POLA）与可变默认参数" class="md-nav__link">25.最小经验原则（POLA）与可变默认参数</a></li><li class="md-nav__item"><a href="../26/" title="26.如何按引用传值" class="md-nav__link">26.如何按引用传值</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">目录</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#_1" title="题目" class="md-nav__link">题目</a></li><li class="md-nav__item"><a href="#_2" title="回答一" class="md-nav__link">回答一</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#_3" title="解释" class="md-nav__link">解释</a></li><li class="md-nav__item"><a href="#python35" title="没用Python3.5，仍旧想一行搞定" class="md-nav__link">没用Python3.5，仍旧想一行搞定</a></li><li class="md-nav__item"><a href="#_4" title="对其他答案的批评" class="md-nav__link">对其他答案的批评</a></li><li class="md-nav__item"><a href="#_5" title="对评论的回复" class="md-nav__link">对评论的回复</a></li><li class="md-nav__item"><a href="#_6" title="性能较差但正确的写法" class="md-nav__link">性能较差但正确的写法</a></li><li class="md-nav__item"><a href="#_7" title="性能分析" class="md-nav__link">性能分析</a></li><li class="md-nav__item"><a href="#_8" title="参考资源" class="md-nav__link">参考资源</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/geekcircle/edit/master/docs/stackoverflow-python-top-qa/7.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="7-2">7. 如何用一行代码合并2个字典<a class="headerlink" href="#7-2" title="Permanent link">&para;</a></h1>
<h2 id="_1">题目<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>有2个Python字典，想写一行代码能返回2个字典合并后的结果，但是 update() 并不返回合并后的结果，而是就地修改其中的一个字典。</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="bp">None</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
</pre></div>

<p>怎样才能在<code>z</code>中得到合并结果，而不是在<code>x</code>中</p>
<p>另外，dict.update()方法遇到冲突时保留最后一个键值对也是我所期望的。 <a href="https://stackoverflow.com/questions/38987/how-to-merge-two-dictionaries-in-a-single-expression">链接</a></p>
<h2 id="_2">回答一<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<blockquote>
<p>如何用一行代码合并2个字典</p>
</blockquote>
<p>对于字典x, y, z是在x中替换并合并了y中的值的字典。</p>
<ul>
<li>Python3.5+</li>
</ul>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">y</span><span class="p">}</span>
</pre></div>

<ul>
<li>Python2, (或者3.4 或更低版本) 可以写一个函数</li>
</ul>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>   <span class="c1"># z初始化为x</span>
    <span class="n">z</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>    <span class="c1"># 用y的值修改z，返回值None</span>
    <span class="k">return</span> <span class="n">z</span>
</pre></div>

<p>接着</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

<h3 id="_3">解释<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>你有2个字典，想合并这两个字典到一个新字典中，而不改变原有的字典。</p>
<div class="codehilite"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>

<p>期望的结果是得到一个合并后新字典，第二个字典的值覆盖第一个字典的值。</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>

<p>有一个新的语法能够达到目的，<a href="https://www.python.org/dev/peps/pep-0448">PEP 448</a>提出，<a href="https://mail.python.org/pipermail/python-dev/2015-February/138564.html">Python 3.5中可用</a>。</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">y</span><span class="p">}</span>
</pre></div>

<p>这的确是单行表达式，<a href="https://www.python.org/dev/peps/pep-0478/#features-for-3-5">Python 3.5, PEP448</a>的发布计划中可以看到，而且已经写入了 <a href="https://docs.python.org/dev/whatsnew/3.5.html#pep-448-additional-unpacking-generalizations">What's New in Python 3.5</a>文档。</p>
<p>然而，很有组织仍在使用Python2，你可能希望有一种向后兼容的方式。Python2，Python3.0-3.4种最Pythonic的方式，是这2步。</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">z</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># z被改变，返回值为None</span>
</pre></div>

<p>2种方法中，<code>y</code>出现在后面，所以它的值将会覆盖<code>x</code>的值，因此最终的结果，<code>b</code>将会变成<code>3</code></p>
<h3 id="python35">没用Python3.5，仍旧想一行搞定<a class="headerlink" href="#python35" title="Permanent link">&para;</a></h3>
<p>如果你没有使用Python3.5，或者的确想写向后兼容的代码，同时想一行表达式搞定，最高效正确的方式是写一个函数。</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Given two dicts, merge them into a new dict as a shallow copy.&quot;&quot;&quot;</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">z</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">z</span>
</pre></div>

<p>然后就可以单行搞定了。</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>

<p>你也能写一个函数合并不定数量的字典，0到N个字典</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">merge_dicts</span><span class="p">(</span><span class="o">*</span><span class="n">dict_args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given any number of dicts, shallow copy and merge into a new dict,</span>
<span class="sd">    precedence goes to key value pairs in latter dicts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">dict_args</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>

<p>这个函数Python2和Python3种都能运行，例如给定从<code>a</code>到<code>g</code>的字典：</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="n">merge_dicts</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
</pre></div>

<p><code>g</code> 中的键值对优先级比 <code>a</code>到<code>f</code>要高，以此类推。</p>
<h3 id="_4">对其他答案的批评<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>不要使用如下的方式</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">y</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>

<p>在Python2中，会在内存中分别为2个字典创建2个列表，然后在内存中创建第3个列表，长度等于前两者之和，然后丢弃这三个列表去创建一个新的字典。在Python3种，这会失败，因为你想合并2个 <code>dict_items</code>，而不是2个列表</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">b</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unsupported</span> <span class="n">operand</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="o">+</span><span class="p">:</span> <span class="s1">&#39;dict_items&#39;</span> <span class="ow">and</span> <span class="s1">&#39;dict_items&#39;</span>
</pre></div>

<p>你需要显式地把它们转换成列表，例如 <code>z = dict(list(x.items()) + list(y.items()))</code>，这是对资源和算力的一种浪费。</p>
<p>相似的，在Python3中取 <code>items()</code>的并集（Python2.7种的<code>viewitems()</code>）也会失败当值是一些不可哈希的对象时（例如列表）。及时值都是可哈希的，<strong>由于集合是无序的，行为取决于集合元素的优先级，因此不要这么做</strong></p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">|</span> <span class="n">b</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>

<p>这个例子展示了当值是不可hash时会发生什么</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">|</span> <span class="n">y</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">unhashable</span> <span class="nb">type</span><span class="p">:</span> <span class="s1">&#39;list&#39;</span>
</pre></div>

<p>这有一个例子展示了因集合的无序性，导致y的优先级失效，最终的结果保留了x的值。</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">|</span> <span class="n">y</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</pre></div>

<p>另一种取巧的方法也不应当使用</p>
<div class="codehilite"><pre><span></span><span class="n">z</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">y</span><span class="p">)</span>
</pre></div>

<p>这种方法使用了字典的构造函数，非常快，内存占用非常小（仅比最开始的2步的方法多一点）。但是除非你准确地知道将会发生什么（那就是，第二个字典将会作为关键字参数传给字典的构造函数），这很难理解，也不是预期的用法，这不Pythonic。</p>
<p>这有一个这种用法在django中被纠正的例子。<a href="https://code.djangoproject.com/attachment/ticket/13357/django-pypy.2.diff">remediated in django</a></p>
<p>字典期望接受可哈希的键（例如，不可变集合(frozensets)和元组）,但是这个方法当键不是字符串的时候，在Python3中会失败。</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="n">b</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">keyword</span> <span class="n">arguments</span> <span class="n">must</span> <span class="n">be</span> <span class="n">strings</span>
</pre></div>

<p>从<a href="https://mail.python.org/pipermail/python-dev/2010-April/099459.html">邮件列表</a>中，Python语言的创始人，Guido van Rossum 写道：</p>
<blockquote>
<p>我宣布 dict({}, **{1:3})是非法的，因为它滥用了 ** 的机制</p>
</blockquote>
<p>另一句</p>
<blockquote>
<p>很明显，dict(x, **y) 比 "call x.update(y) and return x"更cool，个人认为比起cool，更despicable（卑鄙）</p>
</blockquote>
<p>我的理解（也是<a href="https://mail.python.org/pipermail/python-dev/2010-April/099485.html">语言创始人</a>的理解）：dict(**y)的目的是创建字典时增强可读性的，例如</p>
<div class="codehilite"><pre><span></span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
</pre></div>

<p>而不是</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">}</span>
</pre></div>

<h3 id="_5">对评论的回复<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<blockquote>
<p>不管Guido所说，dict(x, **y)符合语法规范，而且在Python2和Python3中都能工作，这只适用于键为字符串的原因是关键字参数的工作机制导致的，而不是字典的一种简写机制。在这个地方，使用 ** 操作符也没有滥用机制，实际上 ** 的设计恰恰是为了将关键字传递给字典。</p>
</blockquote>
<p>而且，当键不是字符串时，Python3中不工作。隐式的调用约定是命名空间采用普通的字典，用户必须只传递字符串关键字，其他类型都是违背了这一约定的。在Python2中 <code>dict</code>打破了这个一致性。</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">foo</span><span class="p">(</span><span class="o">**</span><span class="p">{(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="bp">None</span><span class="p">})</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="n">foo</span><span class="p">()</span> <span class="n">keywords</span> <span class="n">must</span> <span class="n">be</span> <span class="n">strings</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dict</span><span class="p">(</span><span class="o">**</span><span class="p">{(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="bp">None</span><span class="p">})</span>
<span class="p">{(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">):</span> <span class="bp">None</span><span class="p">}</span>
</pre></div>

<p>这种不一致性存在于Python的其他实现(Pypy, Jython, IronPython)，在Python3中被修复，因为这可能是个突破性的变化。</p>
<p>向你指出，故意编写只能在一种语言版本中或者只在特定约束条件下才能工作的代码是无能的体现。</p>
<p>另外一个评论</p>
<blockquote>
<p><code>dict(x.items() + y.items())</code>在Python2中仍是可读性最强的写法，可读性更重要。</p>
</blockquote>
<p>我的回复：对我而言<code>merge_two_dicts(x, y)</code>可读性更好。如果不是前向兼容的问题，Python2将会加速被废弃。</p>
<h3 id="_6">性能较差但正确的写法<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>以下写法性能较差，但是也是正确的方式。比起<code>copy</code>和<code>update</code>方法以及新的展开方法，性能会差跟多，原因是迭代了每一个键值对，但是保证了优先级（后面的字典优先级高）</p>
<p>你也用一个字典推导中手动合并字典。</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dicts</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> <span class="c1"># iteritems in Python 2.7</span>
</pre></div>

<p>或者在Python2.6中（或者更早到2.4的版本，生成器表达式被引入）:</p>
<div class="codehilite"><pre><span></span><span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dicts</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</pre></div>

<p><code>itertools.chain</code>也会通过键值对迭代的方式正确合并。</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span>
<span class="n">z</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()))</span>
</pre></div>

<h3 id="_7">性能分析<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>用以下方法做性能分析</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">timeit</span>
</pre></div>

<p>运行环境：Ubuntu 14.04</p>
<p>Python 2.7 (system Python):</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<span class="mf">0.5726828575134277</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> <span class="p">))</span>
<span class="mf">1.163769006729126</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">iteritems</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()))))</span>
<span class="mf">1.1614501476287842</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>
<span class="mf">2.2345519065856934</span>
</pre></div>

<p>In Python 3.5 (deadsnakes PPA):</p>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="o">**</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">y</span><span class="p">}))</span>
<span class="mf">0.4094954460160807</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">merge_two_dicts</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<span class="mf">0.7881555100320838</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span> <span class="p">))</span>
<span class="mf">1.4525277839857154</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">y</span><span class="o">.</span><span class="n">items</span><span class="p">()))))</span>
<span class="mf">2.3143140770262107</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">dict</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>
<span class="mf">3.2069112799945287</span>
</pre></div>

<h3 id="_8">参考资源<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://stackoverflow.com/questions/327311/how-are-pythons-built-in-dictionaries-implemented/44509302#44509302">My explanation of Python's <strong>dictionary implementation</strong>, updated for 3.6.</a></li>
<li><a href="https://stackoverflow.com/questions/1024847/add-new-keys-to-a-dictionary/27208535#27208535">Answer on how to add new keys to a dictionary</a></li>
<li><a href="https://stackoverflow.com/questions/209840/map-two-lists-into-a-dictionary-in-python/33737067#33737067">Mapping two lists into a dictionary</a></li>
<li>The official Python <a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">docs on dictionaries</a></li>
<li><a href="https://www.youtube.com/watch?v=66P5FMkWoVU">The Dictionary Even Mightier</a> - talk by Brandon Rhodes at Pycon 2017</li>
<li><a href="https://www.youtube.com/watch?v=npw4s1QTmPg">Modern Python Dictionaries, A Confluence of Great Ideas</a> - talk by Raymond Hettinger at Pycon 2017</li>
</ul></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../6/" title="6.在Python中调用外部命令" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">后退</span>6.在Python中调用外部命令</span></div></a><a href="../8/" title="8.如何创建一个不存在的目录" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">前进</span>8.如何创建一个不存在的目录</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2016 - 2019 GeekCircle</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script><script src="../../assets/javascripts/lunr/tinyseg.js"></script><script src="../../assets/javascripts/lunr/lunr.ja.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>